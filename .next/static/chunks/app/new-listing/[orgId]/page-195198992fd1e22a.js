(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24,881],{7951:function(e,l,t){Promise.resolve().then(t.bind(t,2118)),Promise.resolve().then(t.bind(t,572))},572:function(e,l,t){"use strict";t.d(l,{default:function(){return m}});var n=t(7437);t(4590);var a=(0,t(8064).$)("b991f1b703c60cc1a45994a8c3593913bb3feb63"),i=t(5079),s=t(6920),c=t(9194),d=t(8472),o=t(6648),r=t(2265);function u(e){let{name:l,icon:t,defaultValue:a=""}=e,u=(0,r.useRef)(null),[x,h]=(0,r.useState)(!1),[m,v]=(0,r.useState)(!1),[j,f]=(0,r.useState)(a);async function p(e){var l;let t=e.target;if(t&&(null===(l=t.files)||void 0===l?void 0:l.length)&&t.files.length>0){h(!0);let e=t.files[0],l=new FormData;l.set("file",e);let n=await d.Z.post("/api/upload",l);n.data.url&&(f(n.data.url),h(!1),v(!0))}}let g=x||m;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"bg-gray-100 rounded-md size-24 inline-flex items-center content-center justify-center",children:[g&&(0,n.jsx)(s.G,{icon:i.LM3,className:"text-gray-400 animate-spin"}),!x&&j&&(0,n.jsx)(o.default,{src:j,alt:"uploaded image",width:1024,height:1024,onLoadingComplete:()=>v(!1),className:"w-auto h-auto max-w-24 max-h-24"}),!g&&!j&&(0,n.jsx)(s.G,{icon:t,className:"text-gray-400"})]}),(0,n.jsx)("input",{type:"hidden",value:j,name:l}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("input",{onChange:e=>p(e),ref:u,type:"file",className:"hidden"}),(0,n.jsx)(c.zx,{type:"button",onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()},variant:"soft",children:"select file"})]})]})}var x=t(6463);t(5432);var h=t(9547);function m(e){let{orgId:l,jobDoc:t}=e,[d,o]=(0,r.useState)((null==t?void 0:t.countryId)||0),[m,v]=(0,r.useState)((null==t?void 0:t.stateId)||0),[j,f]=(0,r.useState)((null==t?void 0:t.cityId)||0),[p,g]=(0,r.useState)((null==t?void 0:t.country)||""),[y,S]=(0,r.useState)((null==t?void 0:t.state)||""),[N,b]=(0,r.useState)((null==t?void 0:t.city)||"");async function w(e){e.set("country",p.toString()),e.set("state",y.toString()),e.set("city",N.toString()),e.set("countryId",d.toString()),e.set("stateId",m.toString()),e.set("cityId",j.toString()),e.set("orgId",l);let t=await a(e);(0,x.redirect)("/jobs/".concat(t.orgId))}return(0,n.jsx)(c.Q2,{children:(0,n.jsxs)("form",{action:w,className:"container mt-6 flex flex-col gap-4",children:[t&&(0,n.jsx)("input",{type:"hidden",name:"id",value:null==t?void 0:t._id}),(0,n.jsx)(c.nv.f,{name:"title",placeholder:"Job title",defaultValue:(null==t?void 0:t.title)||""}),(0,n.jsxs)("div",{className:"grid sm:grid-cols-3 gap-6 *:grow",children:[(0,n.jsxs)("div",{children:["Remote?",(0,n.jsxs)(c.Ee.f,{defaultValue:(null==t?void 0:t.remote)||"hybrid",name:"remote",children:[(0,n.jsx)(c.Ee.c,{value:"onsite",children:"On-site"}),(0,n.jsx)(c.Ee.c,{value:"hybrid",children:"Hybrid-remote"}),(0,n.jsx)(c.Ee.c,{value:"remote",children:"Fully remote"})]})]}),(0,n.jsxs)("div",{children:["Full time?",(0,n.jsxs)(c.Ee.f,{defaultValue:(null==t?void 0:t.type)||"full",name:"type",children:[(0,n.jsx)(c.Ee.c,{value:"project",children:"Project"}),(0,n.jsx)(c.Ee.c,{value:"part",children:"Part-time"}),(0,n.jsx)(c.Ee.c,{value:"full",children:"Full-time"})]})]}),(0,n.jsxs)("div",{children:["Salary",(0,n.jsxs)(c.nv.f,{name:"salary",defaultValue:(null==t?void 0:t.salary)||"",children:[(0,n.jsx)(c.nv.g,{children:"$"}),(0,n.jsx)(c.nv.g,{children:"k/year"})]})]})]}),(0,n.jsxs)("div",{children:["Location",(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 *:grow",children:[(0,n.jsx)(h.CountrySelect,{defaultValue:d?{id:d,name:p}:0,onChange:e=>{o(e.id),g(e.name)},placeHolder:"Select Country"}),(0,n.jsx)(h.StateSelect,{defaultValue:m?{id:m,name:y}:0,countryid:d,onChange:e=>{v(e.id),S(e.name)},placeHolder:"Select State"}),(0,n.jsx)(h.CitySelect,{defaultValue:j?{id:j,name:N}:0,countryid:d,stateid:m,onChange:e=>{f(e.id),b(e.name)},placeHolder:"Select City"})]})]}),(0,n.jsxs)("div",{className:"sm:flex",children:[(0,n.jsxs)("div",{className:"w-1/3",children:[(0,n.jsx)("h3",{children:"Job icon"}),(0,n.jsx)(u,{name:"jobIcon",icon:i.Tab,defaultValue:(null==t?void 0:t.jobIcon)||""})]}),(0,n.jsxs)("div",{className:"grow",children:[(0,n.jsx)("h3",{children:"Contact person"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)(u,{name:"contactPhoto",icon:i.ILF,defaultValue:(null==t?void 0:t.contactPhoto)||""})}),(0,n.jsxs)("div",{className:"grow flex flex-col gap-1",children:[(0,n.jsx)(c.nv.f,{placeholder:"John Doe",name:"contactName",defaultValue:(null==t?void 0:t.contactName)||"",children:(0,n.jsx)(c.nv.g,{children:(0,n.jsx)(s.G,{icon:i.ILF})})}),(0,n.jsx)(c.nv.f,{placeholder:"Phone",type:"tel",name:"contactPhone",defaultValue:(null==t?void 0:t.contactPhone)||"",children:(0,n.jsx)(c.nv.g,{children:(0,n.jsx)(s.G,{icon:i.j1w})})}),(0,n.jsx)(c.nv.f,{placeholder:"Email",type:"email",name:"contactEmail",defaultValue:(null==t?void 0:t.contactEmail)||"",children:(0,n.jsx)(c.nv.g,{children:(0,n.jsx)(s.G,{icon:i.FU$})})})]})]})]})]}),(0,n.jsx)(c.Kx,{defaultValue:(null==t?void 0:t.description)||"",placeholder:"Job description",resize:"vertical",name:"description"}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(c.zx,{size:"3",children:(0,n.jsx)("span",{className:"px-8",children:"Save"})})})]})})}}},function(e){e.O(0,[396,676,785,173,973,971,23,744],function(){return e(e.s=7951)}),_N_E=e.O()}]);